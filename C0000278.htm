<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
<meta name="Microsoft Border" content="none">
<meta name="Microsoft Border" content="none">
<meta name="Microsoft Border" content="none">
<meta name="Microsoft Border" content="none">
<title>Три нуля</title>
</head>

<body style="font-family: Arial, sans-serif" link="#800000" vlink="#5A5A00"
background="../../../images/sand.gif">

<p><font size="5"><strong>Три нуля</strong></font></p>

<p><font size="3"><strong><a href="mailto:me@snarky.com"><em>Георгий
Кузнецов</em></a></strong></font></p>

<p><font size="2"><strong>Как учит нас наука хронология,
двухтысячный год считается последним годом XX, а
не первым годом XXI века. Кроме трех нулей, никаких
материалистических причин праздновать его
наступление нет, если не считать одной широко
известной в узких кругах годовщины: 30-летия
операционной системы unix. </strong></font></p>

<p><font size="2"><strong>Традиционная интерпретация этой
даты такова. Контуры прототипа, тогда еще
совершенно непохожего на юникс, каким узнал и
принял ее потрясенный мир, начали вырисовываться
во второй половине 1969 года. Легенда утверждает,
что Кен Томпсон написал его за месяц, пока жена
была в отпуске, но это, по-видимому, не вполне
достоверно. </strong></font></p>

<p><font size="2"><strong>Как бы то ни было, начало отсчета
системного времени установлено на 00:00:00 1 января
1970. Участники движения потом назвали этот момент
началам <em>эпохи юникс</em>. В любой реализации ядра
соответствующий системный вызов возвращает
целое число, равное количеству &quot;тиков&quot;,
отсчитанных от вышеуказанной даты. Что это за
вызов, какими библиотечными функциями он
обрамляется и чему равен тик -- лучше не
спрашивайте. В истории юникс нет ничего более
запутанного. </strong></font></p>

<p><font size="2"><strong>Казалось бы, благодаря мудрости
основоположников этой операционной системы у ее
пользователей не должно было бы быть проблем с Y2K.
<em>Задумывали</em> ее на века, если не на вечно.
Однако вот <a href="http://www.conix.com/html/y2k.html">сводная
страничка</a> со ссылками на отчеты о состоянии
дел основных производителей коммерческих
юниксов. Можно пройти, глянуть на списки патчей и
устрашиться.&nbsp; </strong></font></p>

<p><font size="2"><strong>В преддверии славной годовщины я
сделал маленькое открытие: похоже, периодических
изданий, в название которых входило бы слово unix,
на свете больше не осталось. А ведь к
двадцатилетию цвело и пахло их не меньше десятка!
В сетевых рубрикаторах еще светятся Unix Review и
UnixWorld, но на самом деле первый давно
переименовался в <a href="http://www.performancecomputing.com/unixreview/">Performance
Computing</a>, а второй влился в <a
href="http://www.networkcomputing.com/unixworld">CMP Network Computing</a>. Что
касается Идеологии Открытых Систем, то после
того, как Гейтс объявил таковыми Wintel, сия
благородная девица задирает юбки перед каждым
желающим уложить ее на свой щит.</strong></font></p>

<p><font size="2"><strong>При этом нельзя сказать, чтобы
компьютерных журналов вообще поубавилось. Их
прибавилось. Что касается других героев нашего
времени, то я нашел&nbsp; (без разбору сетевых и
бумажных) четыре наименования про Linux, три про BeOS
и два про OS/2. Есть издания по частным
коммерческим линиям юниксов (главным образом,
корпоративные). По Windоws и другим технологиям
Microsoft их, естественно, десятки, но настоящая
прорва это, извините за выражение,
околокомпьютерная пресса. С точки зрения
российского компьютерного профессионала, вся
она попсова как пепси-кола и желта как переспелый
банан, хотя, если присмотреться, по большей части
предназначена отнюдь не для подростков и
домохозяек.</strong></font></p>

<p><font size="2"><strong>Мир, создавший компьютеры, потерял
к ним интерес. С них, ненаглядных, фокус, наконец,
переместился на то, для чего они применяются. Я
слегка оторопел, обнаружив образчик
ортодоксально юниксовой странички на <a
href="http://www.geek-girl.com/">http://www.geek-girl.com/</a>, но это,
конечно, не единственный заповедник архаики. В
России существует целый издательский дом
&quot;Открытые системы&quot;, исправно генерирующий
ссылки как по-русски, так и по-английски. Боюсь, в
условия поразившего нас застоя здешние зомби
будут бродить среди живых слишком долго: не
только после смерти, но и после истечения своего
срока годности.</strong></font></p>

<p><font size="2"><strong>Последнее время на форуме
&quot;Четыре колонки&quot; только про unix и говорят.
Есть в России такие заклятые паросочетания: если
упомянешь Интернет - придется обсуждать Фидо,&nbsp;
если Ирак - амурные дела Клинтона и Левински, если
демократию -- то ваучеры и так далее. А я вот Microsoft
имел неосторожность зацепить.</strong></font></p>

<p><font size="2"><strong>Все началось с топика '273:
&quot;Организация объединенных Windows&quot;' (<a
href="http://www.snarky.com/UBB/Forum2/HTML/000086.html">86</a>, <a
href="http://www.snarky.com/UBB/Forum2/HTML/000091.html">91</a>, <a
href="http://www.snarky.com/UBB/Forum2/HTML/000099.html">99</a>, <a
href="http://www.snarky.com/UBB/Forum2/HTML/000100.html">100</a>, <a
href="http://www.snarky.com/UBB/Forum2/HTML/000102.html">102</a>). При первых
признаках скольжения под откос один из
активнейших участников наших посиделок, доселе
ни в чем подобном не замеченный, неожиданно
&quot;рванул как триста тонн тротила&quot;. Как
выяснилось, он имел опыт общения с
отечественными юниксоидами и научился
обнаруживать их не только по следам, но и
&quot;верхним чутьем&quot;. Кстати, по моим
наблюдениям, особо тонкого обоняния для этого не
нужно. </strong></font></p>

<p><font size="2"><strong>Современная генерация юниксистов
СНГ, если их помыть и переодеть, -- милейшие
существа. Это не о личностях, это о типе.
Перечитывая сейчас файлы, я немало повеселился.
Как вам, скажем, такой ответ одного из
поклонников юникса на совершенно невинный
вопрос другого поклонника юникса: </strong></font></p>

<blockquote>
  <p><font size="2"><strong>А руки не отсохнут сделать <br>
  grep MAXUSERS `find /usr/src/sys/ -name '*.c' ` | more<br>
  ? </strong></font></p>
  <p><font size="2"><strong>А для особо ленивых существует <a
  href="mailto:FreeBSD-questions@freebsd.org">FreeBSD-questions@freebsd.org</a></strong></font></p>
</blockquote>

<p><font size="2"><strong>Как видите, даже во время гона эти
люди успевали привычно огрызаться друг на друга.
При этом, время от времени они жалобно подвывали,
сетуя на негуманное отношение к себе окружающих.
А вам не случалось заглядывать в ньюсгруппу
comp.unix.user-friendly? Очень хорошо зачитывать детям на
ночь, чтобы не выросли такими.</strong></font></p>

<p><font size="2"><strong>Не удивительно, что в наших беседах
с достопочтенными адептами последней и
окончательной ОС мне не удалось добиться от них
почти ничего по существу, Я даже два раза
открывал топик &quot;Ценность unix&quot; (<a
href="http://www.snarky.com/UBB/Forum2/HTML/000104.html">104</a>, <a
href="http://www.snarky.com/UBB/Forum2/HTML/000106.html">106</a>), но и там все
свели на козни Гейтса, так что в очередной
реинкарнации Denis77 переименовал его в &quot;Бяка
Майкросовт&quot; (<a href="http://www.snarky.com/UBB/Forum2/HTML/000110.html">110</a>,
<a href="http://www.snarky.com/UBB/Forum2/HTML/000111.html">111</a>). Правда,
побочным положительным результатом явились
попытки обсуждения демографических и
процедурных вопросов (<a
href="http://www.snarky.com/UBB/Forum2/HTML/000101.html">Почему нас так
много в России? Подпись: маргинал.</a>,&nbsp; <a
href="http://www.snarky.com/UBB/Forum2/HTML/000105.html">Надоели споры</a> и <a
href="http://www.snarky.com/UBB/Forum2/HTML/000109.html">Бремя доказывания</a>).</strong></font></p>

<p><font size="2"><strong>В конце концов, решил я сам внести
на алтарь операционной системы нашего детства
свой бедный лепт в виде этой колонки. Здесь,
конечно, не на форуме: особенно не распишешься. Но
уж позвольте старому программёру исполнить свою
песню о главном.</strong></font></p>

<p align="center"><font size="2"><strong>***</strong></font></p>

<p><font size="2"><strong>Я -- довольный жизнью юзер Windows NT.
Недостает мне в ней одного:
многопользователь...скости. (Практический вопрос:
у нас начнется когда-нибудь прогресс в области
словесности? Удастся нам заставить Великий и
Могучий себе служить, или так и будем таскать его
как чемодан без ручки?). </strong></font></p>

<p><font size="2"><strong>В юникс программа-оболочка, через
которую оформляется работа пользователя с
системой, намеренно сделана очень легкой.
Обращаются с нею примерно так же, как в Windows с
окнами: создают во множестве и переключаются с
одной на другую. Пользователь, имеющий
соответствующие права, может поддерживать
оболочки от имени многих разных пользователей.
Сейчас, когда на древнюю основу наросли средства
поддержки графики, получилось, что, работая с
юних можно выступать под разными именами
одновременно и вести с системой диалог, просто
переходя от окна к окну. Вот это мне и хотелось бы
видеть в NT. </strong></font></p>

<p><font size="2"><strong>Естественно спросить -- а зачем так
выдрючиваться? Это персональная, а не
многотерминальная среда. Ее разработчики
обеспечили, наконец, пользователю возможность
поддерживать много приложений одновременно. Эти
приложения, погибая, теперь уже не тащат за собою
на тот свет всю операционную систему со всеми ее
обитателями, и при этом множеством способов
общаются между собой. Чего еще желать? </strong></font></p>

<p><font size="2"><strong>Ну, во-первых, возможности на ходу
менять весь антураж -- все то, что входит в
пользовательский &quot;профиль&quot;. По сути, менять
роль, рабочее место. В жизни я ведь сижу за
рабочим местом пользователя PC, а чтобы готовить
еду -- перехожу на кухню, на рабочее место кухарки.
Плита у меня не встроена в письменный стол,
понимаете? </strong></font></p>

<p><font size="2"><strong>Во-вторых, PC очень редко бывает
стопроцентно персональной. Всегда есть какие-то
мотивы, связанные с ее совместным использованием
несколькими людьми. То это кто-то приходящий,
кому время от времени нужно послать и принять от
своего имени почту, или попользоваться браузером
со своими cookies. То отправляются четверо активных
пользователей в командировку с двумя ноутбуками
(ноутбук с полным боекомплектом весит, между
прочим, килограммов пять). А дома, так даже у них в
Штатах еще далеко не обеспечена полная и
адекватная потребностям писификация личного
состава.&nbsp;&nbsp; </strong></font></p>

<p><font size="2"><strong>В третьих, многозадачность в
сочетании с многопользователь...скостью дает
некое новое качество. Вы можете передать коллеге
терминал, но сохранить работающие от вашего
имени процессы. В многопользовательских
системах используется даже старинный пакетный
режим, когда программы запускаются от имени
хозяина в его отсутствии, выполняются и
отправляют сообщения о результатах ему по почте.
А программы Windows не рассчитаны даже на то, чтобы
пользователь отправлял почту самому себе.</strong></font></p>

<p><font size="2"><strong>Правду сказать, среда NT вообще
очень плохо приспособлена к фоновому выполнению
задач. Как бы у пользователя таких потребностей
быть вообще не должно -- а они все есть и есть. Даже
самому дремучему &quot;чайнику&quot; случается,
например, скачивать что-нибудь по ftp. Под юниксом
можно запустить процесс и отдать машину другому,
а потом подойти и, не нарушая его работы,
посмотреть, что там происходит. </strong></font></p>

<p><font size="2"><strong>Наконец, еще одно полезное отличие
старинного юникса от NT -- что в нем все
рассчитывается в равной степени и на ручное, и на
автоматическое управление. Собственно,
благодаря этому и можно выполнять задания в
пакетном режиме. Что касается Windows, то это, мягко
говоря, не основной способ работы в них. Зачастую
такая возможность есть, но она рассчитана на
посвященных и не описана. Или надо
программировать на Visual Basic. Или вообще никак. </strong></font></p>

<p><font size="2"><strong>Работая с Windows, я до сих пор время от
времени вспоминаю библейские метафоры:
повапленные (покрашенные) гробы или, там, сосуд
скудельный. В юниксовой среде концептуальный
потолок по умолчанию ставится на уровне
профессиональной элиты, по росту самых знающих,
неограниченно изобретательных людей. Для
большинства это высоковато, зато есть воздух. А
винды, при всей их&nbsp; обстановочке, помещение
низкое, затхлое и полуподвальное. </strong></font></p>

<p><font size="2"><strong>Винтеловские usability, удобства для
наивных потребителей, достигаются бесчестными
способами. Архитекторы смотрят как ходит
большинство и прокладывают в этих местах сеть
удобных дорожек, отнюдь не стремясь к тотальному
благоустройству. Вдоль дорожек бордюрчики,
травка, наглядная агитация, но если заглянуть за
какой-нибудь рекламный щит, за ним
обнаруживаются недоделки, хлам, отбросы, трупы
бродячих людей и животных. Отсюда и вирусы, и
общее ощущение несвободы. Чувствуешь, что
пространства много, что должно быть что-то еще, но
ходить туда нельзя.</strong></font></p>

<p><font size="2"><strong>На самом деле, возможности
современных компьютерных систем никогда не
бывают достаточны, чтобы добросовестно
поддержать уровень удобств, обещаемых попсовыми
системами, за их цену. Юниксы, дающие практически
то же самое, что сейчас дает NT, не считая
некоторых поверхностных наворотов, существовали
еще до Windows 3.1. В них многое было сделано чисто и
правильно с самого начала, но оказалось не
востребовано массовым рынком, отчего, в свою
очередь, и цена не упала. Десять лет назад
конторским массам не нужно было все, им нужен был
сетевой доступ к файлам и принтерам и как можно
дешевле -- а это делала Netware, и даже Lantastic. Так и шла
массовая компьютеризация мелкими шажками, глядя
под ноги, не замечая тех, кто забегал слишком
далеко вперед.</strong></font></p>

<p><font size="2"><strong>Впрочем, это все понято и описано
давным-давно, а что касается технических
возможностей, то Microsoft окончательно взялась за ум
и теперь пристраивает к NT как
многопользователь...скость, так и автоматизацию
на основе скриптов. Получается это, как и
следовало ожидать, труднее, чем казалось сначала,
но, по всей видимости, утрясется в конце концов. Я
бы за такую платформу охотно переплатил, если
только будет работать надежно. Свое время дороже.</strong></font></p>

<p><font size="2"><strong>Однако значит ли все это, что
создатели юникса были умнее, что они правильно
угадали будущие потребности и сделали лучшие
ходы? Вот с этим я никак не могу согласиться.
Извините, но если бы это было так, то мы все давно
бы сидели за рабочими станциями RISC/UNIX класса.
Очернять Microsoft, создавать образ врага -- занятие
утешительное, но бесполезное. Гейтс начинал, как
и все, практически с нуля, а дальше -- что ж, бизнес
есть бизнес, в нем играют тотально, в том числе и
на грани позволенного законом и обычаем. Не был
он никогда тотальным, прочно обезопасившим себя
монополистом -- и сейчас не является, и, к слову
заметить, хорошо понимает, что это невозможно.
Наряду с младшими моделями виндов и офисными
приложениями, где конкуренты отжаты сейчас очень
далеко, хотя и не уничтожены совершенно, есть у
него NT с BackOffice'ом, есть малтимидийный бизнес, есть
совсем новые (и очень дорогостоящие) начинания, и
все это -- on the cutting edge, на переднем крае
конкуренции. Он делает свое дело, а конкуренты (и
ученые с чиновниками) пусть делают свое. </strong></font></p>

<p><font size="2"><strong>С другой стороны, я при самом
большом напряжении фантазии не могу согласиться
с тем, что у Гейтса блестящие инженеры. Если они и
есть, то воли им не дают, а, скорее всего, тут
налицо некая роковая несовместимость,
исследованием которой я собираюсь заняться в
одной из следующих колонок. </strong></font></p>

<p><font size="2"><strong>Дело в том, что создатели Windows
прекрасно понимали, что творят. </strong></font></p>

<p><font size="2"><strong>Во-первых, эти системы намеренно
сделаны в предположении: один юзер, один писюк (...,
один Colt, один голос). Если сисадмину неудобно,
пусть поставит рядом еще нисюк. Вообще, пусть все
покупают писюки, и побольше, побольше! Что за
глупости -- многопользовательский режим! Будь их
воля, они бы и многозадачности не допустили. Одна
задача, один писюк, и так далее.</strong></font></p>

<p><font size="2"><strong>Во-вторых, NT намеренно сделана в
предположении, что компьютер имеет доступ к
высокоскоростной локальной сети -- а если нет, то
пусть его подключат</strong></font></p>

<p><font size="2"><strong>В-третьих, интерфейс должен быть
только графическим. Долой дешевые черные экраны,
пусть процессор делает хоть что-то полезное.
Впрочем, Apple в этом смысле забежала гораздо
дальше вперед.</strong></font></p>

<p><font size="2"><strong>В-четвертых, пользование
компьютерами, а затем и администрирование сетей,
и программирование, все это надо отобрать у
интеллектуальной элиты и передать тем, кому
проще заучить переходы по меню, чем понять общие
принципы устройства чего бы то ни было. Таких
людей объективно больше и они послушнее. </strong></font></p>

<p><font size="2"><strong>Можно было бы привести еще
несколько допущений относительно тактики
&quot;принуждения к прогрессу&quot;, но и без того уже
понятны плюсы и минусы этого подхода. Он
обеспечивает баланс интересов хардверных
партнеров (производителей и предустановщиков),
торгово-распределительного бизнеса, владельцев
компьютерных систем, большинства пользователей
и многих других. С другой стороны, он
недвусмысленно направлен на подавление амбиций
яйцеголовых умников как среди пользователей, так
и по другую сторону прилавка, что вообще типично
для поп-культуры. И, наконец, он <em>неизменно
проигрывает на фронтире</em>: там, где процессоры
слабее, памяти меньше, сети медленнее, или где
компьютерные системы подвергаются особенно
изощренным пыткам. &nbsp; Установка как раз такова,
чтобы держаться подальше от границ, плыть строго
в струе. </strong></font></p>

<p><font size="2"><strong>Отсюда -- брутальный характер
экспансии. На переднем крае прогрессе все время
заводятся какие-то вольные землепашцы, какие-то
казаки-разбойники, а поток их топит, топит и
топит. Тут хорошо подошла бы метафора
поверхностного натяжения. Помните: при одном
знаке жидкость как бы прилипает и размазывается
по тверди, плавно повышая свой уровень, а при
другом, как у Гейтса, нависает над сухими
участками по линии раздела подобно дорожному
катку.</strong></font></p>

<p align="center"><font size="2"><strong>***</strong></font></p>

<p><font size="2"><strong>Понимая все это, я, вроде бы,
научился видеть и необоснованность наших
претензий, будто мы, компьютерные специалисты,
можем что-то всерьез предугадать. Честное слово,
если бы в истории ОС решения принимались
случайным образом, результат оказался бы как
минимум не хуже. Я не хочу касаться современного
дизайна - скандалов тогда будет выше крыши - а
возьму один очень&nbsp; старый, давно остывший
пример.</strong></font></p>

<p><font size="2"><strong>Принципиальной, родовой чертой
юникса (впрочем, давно усвоенной другими ОС)
всегда называют его способ порождения процессов.
Они в этой системе образуют иерархию,
возникающую путем &quot;деления&quot; с репликацией
памяти и наследованием контекста, причем по
умолчанию каждый новый процесс получает три
&quot;трубы&quot;: для ввода, для вывода, и для
диагностических сообщений. По способу
размножения процессы напоминают одноклеточные
организмы, но их устройство скорее похоже на&nbsp;
&quot;прямоточную&quot; схему, свойственную
многоклеточным. Задумано так, что процесс
принимает данные через входную трубу,
переваривает их и выталкивает через выходную. В
системе экономно размещается по много
экземпляров одних и тех же программ, каждая из
которых (как процесс) выполняет какую-то
порученную ей частную работу. </strong></font></p>

<p><font size="2"><strong>Хорошо забытый факт -- как та же
самая идеология оформилась в недрах IBM. Первая
найденная мною ссылка на внутренний документ
датируется 1974 годом (<em>HIPO - A design aid and documentation technique</em>.
IBM Corp. Manual), а первая книга с описанием&nbsp; этой
техники вышла в 1976 году. Как известно, первая
редакция статьи Кернигана и Ритчи &quot;The UNIX Time-Sharing
System&quot; восходит к 1973 году, а опубликована она
была в 1974 году. Идеи в те горячие времена носились
в воздухе и подхватывались на лету. </strong></font></p>

<p><font size="2"><strong>HIPO означает Hierarchy of Input-Processing-Output. На
русски это переводилось как &quot;иерархия
процессов ввода, обработки и вывода&quot;. Помимо
прочего, этот подход и основанные на нем
документы, так называемые хайпограммы, были
положены в основу IBM-овской индустриальной
технологии программирования IPT -- первой
систематической попыткой укротить
программирующую вольницу и превратить ремесло в
промышленность. </strong></font></p>

<p><font size="2"><strong>В сочетании с заветами
отцов-основателей (писать простые программы,
которые делают что-то одно, но делают хорошо и
объединять их &quot;на лету&quot; для выполнения
сложных заданий) становится ясно, что механизм
процессов в юниксе это очень качественная
реализация современных на тот момент идей
компонентного программирования. </strong></font></p>

<p><font size="2"><strong>Прибавим к этому второй завет:
развивать средства работы с текстами и текстовый
интерфейс. ОС юникс должна была заговорить
человеческим языком, и она действительно очень
приблизилась к этой цели (если, конечно, иметь в
виду английский язык и не обращать внимания на
программистские извращения). </strong></font></p>

<p><font size="2"><strong>Ирония в том, что оба эти ключевые
новшества совершенно не оправдали возлагавшихся
на них надежд, а по некоторым направлениям даже
привели к ощутимому отставанию юниксов по
сравнению с презренными конкурентами.</strong></font></p>

<p><font size="2"><strong>Метафора программы-процессора,
запускаемой по потребности, выполняющей
ввод-обработку-вывод данных и &quot;умирающей&quot;,
на самом деле была концептуальным наследием
архаического &nbsp; пакетного режима работы
вычислительной системы. Ее сменила метафора
программы-сервера, вскоре начавшей
взаимодействовать с другими программами гораздо
более интенсивно и эффективно.&nbsp; </strong></font></p>

<p><font size="2"><strong>Текстовый интерфейс тоже
продержался недолго. Через пять-шесть лет все уже
интересовались только графикой. Черно-зеленые
экраны сейчас выглядят примерно как перфокарты. </strong></font></p>

<p><font size="2"><strong>Если посмотреть на процесс
эволюции компьютерных технологий&nbsp; &quot;с высоты
птичьего полета&quot;, окажется, что в момент, когда
сотрудники Bell Labs Томпсон и Ритчи писали свою
статью для CACM, на другом конце США в другом
частном исследовательском центре другие
исследователи уже вели проекты, перечеркивающие
лучшую половину написанного их коллегами. И, в
свою очередь, лучшая половина того, что было
совершено сотрудниками Xerox PARC к 1980 году остается
невостребованным по сей день. Спрашивается, кто
же выбирал?</strong></font></p>

<p><font size="2"><strong><em>№278, 12 января 1999</em></strong></font></p>

<p><font size="2"><strong>Объем -- 12 колонок. Автор оставляет
за собой право на отгул. </strong></font></p>

<p><font size="2"><a
href="http://www.snarky.com/cgi-local/Ultimate.cgi?action=topics&amp;number=2&amp;start=here"
target="_top"><strong>На форуме &quot;Четыре колонки&quot;
открыта тема &quot;Три нуля&quot;.</strong></a></font></p>

<p><font size="2"><strong><em><a href="mailto:me@snarky.com">Напишите мне,
если хотите получать &quot;Четыре колонки&quot;
почтой. </a></em></strong></font></p>
</body>
</html>
