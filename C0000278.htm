<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><meta name="GENERATOR" content="Microsoft FrontPage 3.0"><meta name="Microsoft Border" content="none"><meta name="Microsoft Border" content="none"><meta name="Microsoft Border" content="none"><meta name="Microsoft Border" content="none"><title>Три нуля</title></head><body style="font-family: Arial, sans-serif" link="#800000" vlink="#5A5A00"background="../../../images/sand.gif"><p><font size="5"><strong>Три нуля</strong></font></p><p><font size="3"><strong><a href="mailto:me@snarky.com"><em>ГеоргийКузнецов</em></a></strong></font></p><p><font size="2"><strong>Как учит нас наука хронология,двухтысячный год считается последним годом XX, ане первым годом XXI века. Кроме трех нулей, никакихматериалистических причин праздновать егонаступление нет, если не считать одной широкоизвестной в узких кругах годовщины: 30-летияоперационной системы unix. </strong></font></p><p><font size="2"><strong>Традиционная интерпретация этойдаты такова. Контуры прототипа, тогда ещесовершенно непохожего на юникс, каким узнал ипринял ее потрясенный мир, начали вырисовыватьсяво второй половине 1969 года. Легенда утверждает,что Кен Томпсон написал его за месяц, пока женабыла в отпуске, но это, по-видимому, не вполнедостоверно. </strong></font></p><p><font size="2"><strong>Как бы то ни было, начало отсчетасистемного времени установлено на 00:00:00 1 января1970. Участники движения потом назвали этот моментначалам <em>эпохи юникс</em>. В любой реализации ядрасоответствующий системный вызов возвращаетцелое число, равное количеству &quot;тиков&quot;,отсчитанных от вышеуказанной даты. Что это завызов, какими библиотечными функциями онобрамляется и чему равен тик -- лучше неспрашивайте. В истории юникс нет ничего болеезапутанного. </strong></font></p><p><font size="2"><strong>Казалось бы, благодаря мудростиосновоположников этой операционной системы у еепользователей не должно было бы быть проблем с Y2K.<em>Задумывали</em> ее на века, если не на вечно.Однако вот <a href="http://www.conix.com/html/y2k.html">своднаястраничка</a> со ссылками на отчеты о состояниидел основных производителей коммерческихюниксов. Можно пройти, глянуть на списки патчей иустрашиться.&nbsp; </strong></font></p><p><font size="2"><strong>В преддверии славной годовщины ясделал маленькое открытие: похоже, периодическихизданий, в название которых входило бы слово unix,на свете больше не осталось. А ведь кдвадцатилетию цвело и пахло их не меньше десятка!В сетевых рубрикаторах еще светятся Unix Review иUnixWorld, но на самом деле первый давнопереименовался в <a href="http://www.performancecomputing.com/unixreview/">PerformanceComputing</a>, а второй влился в <ahref="http://www.networkcomputing.com/unixworld">CMP Network Computing</a>. Чтокасается Идеологии Открытых Систем, то послетого, как Гейтс объявил таковыми Wintel, сияблагородная девица задирает юбки перед каждымжелающим уложить ее на свой щит.</strong></font></p><p><font size="2"><strong>При этом нельзя сказать, чтобыкомпьютерных журналов вообще поубавилось. Ихприбавилось. Что касается других героев нашеговремени, то я нашел&nbsp; (без разбору сетевых ибумажных) четыре наименования про Linux, три про BeOSи два про OS/2. Есть издания по частнымкоммерческим линиям юниксов (главным образом,корпоративные). По Windоws и другим технологиямMicrosoft их, естественно, десятки, но настоящаяпрорва это, извините за выражение,околокомпьютерная пресса. С точки зренияроссийского компьютерного профессионала, всяона попсова как пепси-кола и желта как переспелыйбанан, хотя, если присмотреться, по большей частипредназначена отнюдь не для подростков идомохозяек.</strong></font></p><p><font size="2"><strong>Мир, создавший компьютеры, потерялк ним интерес. С них, ненаглядных, фокус, наконец,переместился на то, для чего они применяются. Яслегка оторопел, обнаружив образчикортодоксально юниксовой странички на <ahref="http://www.geek-girl.com/">http://www.geek-girl.com/</a>, но это,конечно, не единственный заповедник архаики. ВРоссии существует целый издательский дом&quot;Открытые системы&quot;, исправно генерирующийссылки как по-русски, так и по-английски. Боюсь, вусловия поразившего нас застоя здешние зомбибудут бродить среди живых слишком долго: нетолько после смерти, но и после истечения своегосрока годности.</strong></font></p><p><font size="2"><strong>Последнее время на форуме&quot;Четыре колонки&quot; только про unix и говорят.Есть в России такие заклятые паросочетания: еслиупомянешь Интернет - придется обсуждать Фидо,&nbsp;если Ирак - амурные дела Клинтона и Левински, еслидемократию -- то ваучеры и так далее. А я вот Microsoftимел неосторожность зацепить.</strong></font></p><p><font size="2"><strong>Все началось с топика '273:&quot;Организация объединенных Windows&quot;' (<ahref="http://www.snarky.com/UBB/Forum2/HTML/000086.html">86</a>, <ahref="http://www.snarky.com/UBB/Forum2/HTML/000091.html">91</a>, <ahref="http://www.snarky.com/UBB/Forum2/HTML/000099.html">99</a>, <ahref="http://www.snarky.com/UBB/Forum2/HTML/000100.html">100</a>, <ahref="http://www.snarky.com/UBB/Forum2/HTML/000102.html">102</a>). При первыхпризнаках скольжения под откос один изактивнейших участников наших посиделок, доселени в чем подобном не замеченный, неожиданно&quot;рванул как триста тонн тротила&quot;. Каквыяснилось, он имел опыт общения сотечественными юниксоидами и научилсяобнаруживать их не только по следам, но и&quot;верхним чутьем&quot;. Кстати, по моимнаблюдениям, особо тонкого обоняния для этого ненужно. </strong></font></p><p><font size="2"><strong>Современная генерация юниксистовСНГ, если их помыть и переодеть, -- милейшиесущества. Это не о личностях, это о типе.Перечитывая сейчас файлы, я немало повеселился.Как вам, скажем, такой ответ одного изпоклонников юникса на совершенно невинныйвопрос другого поклонника юникса: </strong></font></p><blockquote>  <p><font size="2"><strong>А руки не отсохнут сделать <br>  grep MAXUSERS `find /usr/src/sys/ -name '*.c' ` | more<br>  ? </strong></font></p>  <p><font size="2"><strong>А для особо ленивых существует <a  href="mailto:FreeBSD-questions@freebsd.org">FreeBSD-questions@freebsd.org</a></strong></font></p></blockquote><p><font size="2"><strong>Как видите, даже во время гона этилюди успевали привычно огрызаться друг на друга.При этом, время от времени они жалобно подвывали,сетуя на негуманное отношение к себе окружающих.А вам не случалось заглядывать в ньюсгруппуcomp.unix.user-friendly? Очень хорошо зачитывать детям наночь, чтобы не выросли такими.</strong></font></p><p><font size="2"><strong>Не удивительно, что в наших беседахс достопочтенными адептами последней иокончательной ОС мне не удалось добиться от нихпочти ничего по существу, Я даже два разаоткрывал топик &quot;Ценность unix&quot; (<ahref="http://www.snarky.com/UBB/Forum2/HTML/000104.html">104</a>, <ahref="http://www.snarky.com/UBB/Forum2/HTML/000106.html">106</a>), но и там всесвели на козни Гейтса, так что в очереднойреинкарнации Denis77 переименовал его в &quot;БякаМайкросовт&quot; (<a href="http://www.snarky.com/UBB/Forum2/HTML/000110.html">110</a>,<a href="http://www.snarky.com/UBB/Forum2/HTML/000111.html">111</a>). Правда,побочным положительным результатом явилисьпопытки обсуждения демографических ипроцедурных вопросов (<ahref="http://www.snarky.com/UBB/Forum2/HTML/000101.html">Почему нас такмного в России? Подпись: маргинал.</a>,&nbsp; <ahref="http://www.snarky.com/UBB/Forum2/HTML/000105.html">Надоели споры</a> и <ahref="http://www.snarky.com/UBB/Forum2/HTML/000109.html">Бремя доказывания</a>).</strong></font></p><p><font size="2"><strong>В конце концов, решил я сам внестина алтарь операционной системы нашего детствасвой бедный лепт в виде этой колонки. Здесь,конечно, не на форуме: особенно не распишешься. Ноуж позвольте старому программёру исполнить своюпесню о главном.</strong></font></p><p align="center"><font size="2"><strong>***</strong></font></p><p><font size="2"><strong>Я -- довольный жизнью юзер Windows NT.Недостает мне в ней одного:многопользователь...скости. (Практический вопрос:у нас начнется когда-нибудь прогресс в областисловесности? Удастся нам заставить Великий иМогучий себе служить, или так и будем таскать егокак чемодан без ручки?). </strong></font></p><p><font size="2"><strong>В юникс программа-оболочка, черезкоторую оформляется работа пользователя ссистемой, намеренно сделана очень легкой.Обращаются с нею примерно так же, как в Windows сокнами: создают во множестве и переключаются содной на другую. Пользователь, имеющийсоответствующие права, может поддерживатьоболочки от имени многих разных пользователей.Сейчас, когда на древнюю основу наросли средстваподдержки графики, получилось, что, работая сюних можно выступать под разными именамиодновременно и вести с системой диалог, простопереходя от окна к окну. Вот это мне и хотелось бывидеть в NT. </strong></font></p><p><font size="2"><strong>Естественно спросить -- а зачем таквыдрючиваться? Это персональная, а немноготерминальная среда. Ее разработчикиобеспечили, наконец, пользователю возможностьподдерживать много приложений одновременно. Этиприложения, погибая, теперь уже не тащат за собоюна тот свет всю операционную систему со всеми ееобитателями, и при этом множеством способовобщаются между собой. Чего еще желать? </strong></font></p><p><font size="2"><strong>Ну, во-первых, возможности на ходуменять весь антураж -- все то, что входит впользовательский &quot;профиль&quot;. По сути, менятьроль, рабочее место. В жизни я ведь сижу зарабочим местом пользователя PC, а чтобы готовитьеду -- перехожу на кухню, на рабочее место кухарки.Плита у меня не встроена в письменный стол,понимаете? </strong></font></p><p><font size="2"><strong>Во-вторых, PC очень редко бываетстопроцентно персональной. Всегда есть какие-томотивы, связанные с ее совместным использованиемнесколькими людьми. То это кто-то приходящий,кому время от времени нужно послать и принять отсвоего имени почту, или попользоваться браузеромсо своими cookies. То отправляются четверо активныхпользователей в командировку с двумя ноутбуками(ноутбук с полным боекомплектом весит, междупрочим, килограммов пять). А дома, так даже у них вШтатах еще далеко не обеспечена полная иадекватная потребностям писификация личногосостава.&nbsp;&nbsp; </strong></font></p><p><font size="2"><strong>В третьих, многозадачность всочетании с многопользователь...скостью даетнекое новое качество. Вы можете передать коллегетерминал, но сохранить работающие от вашегоимени процессы. В многопользовательскихсистемах используется даже старинный пакетныйрежим, когда программы запускаются от именихозяина в его отсутствии, выполняются иотправляют сообщения о результатах ему по почте.А программы Windows не рассчитаны даже на то, чтобыпользователь отправлял почту самому себе.</strong></font></p><p><font size="2"><strong>Правду сказать, среда NT вообщеочень плохо приспособлена к фоновому выполнениюзадач. Как бы у пользователя таких потребностейбыть вообще не должно -- а они все есть и есть. Дажесамому дремучему &quot;чайнику&quot; случается,например, скачивать что-нибудь по ftp. Под юниксомможно запустить процесс и отдать машину другому,а потом подойти и, не нарушая его работы,посмотреть, что там происходит. </strong></font></p><p><font size="2"><strong>Наконец, еще одно полезное отличиестаринного юникса от NT -- что в нем всерассчитывается в равной степени и на ручное, и наавтоматическое управление. Собственно,благодаря этому и можно выполнять задания впакетном режиме. Что касается Windows, то это, мягкоговоря, не основной способ работы в них. Зачастуютакая возможность есть, но она рассчитана напосвященных и не описана. Или надопрограммировать на Visual Basic. Или вообще никак. </strong></font></p><p><font size="2"><strong>Работая с Windows, я до сих пор время отвремени вспоминаю библейские метафоры:повапленные (покрашенные) гробы или, там, сосудскудельный. В юниксовой среде концептуальныйпотолок по умолчанию ставится на уровнепрофессиональной элиты, по росту самых знающих,неограниченно изобретательных людей. Длябольшинства это высоковато, зато есть воздух. Авинды, при всей их&nbsp; обстановочке, помещениенизкое, затхлое и полуподвальное. </strong></font></p><p><font size="2"><strong>Винтеловские usability, удобства длянаивных потребителей, достигаются бесчестнымиспособами. Архитекторы смотрят как ходитбольшинство и прокладывают в этих местах сетьудобных дорожек, отнюдь не стремясь к тотальномублагоустройству. Вдоль дорожек бордюрчики,травка, наглядная агитация, но если заглянуть закакой-нибудь рекламный щит, за нимобнаруживаются недоделки, хлам, отбросы, трупыбродячих людей и животных. Отсюда и вирусы, иобщее ощущение несвободы. Чувствуешь, чтопространства много, что должно быть что-то еще, ноходить туда нельзя.</strong></font></p><p><font size="2"><strong>На самом деле, возможностисовременных компьютерных систем никогда небывают достаточны, чтобы добросовестноподдержать уровень удобств, обещаемых попсовымисистемами, за их цену. Юниксы, дающие практическито же самое, что сейчас дает NT, не считаянекоторых поверхностных наворотов, существовалиеще до Windows 3.1. В них многое было сделано чисто иправильно с самого начала, но оказалось невостребовано массовым рынком, отчего, в своюочередь, и цена не упала. Десять лет назадконторским массам не нужно было все, им нужен былсетевой доступ к файлам и принтерам и как можнодешевле -- а это делала Netware, и даже Lantastic. Так и шламассовая компьютеризация мелкими шажками, глядяпод ноги, не замечая тех, кто забегал слишкомдалеко вперед.</strong></font></p><p><font size="2"><strong>Впрочем, это все понято и описанодавным-давно, а что касается техническихвозможностей, то Microsoft окончательно взялась за уми теперь пристраивает к NT какмногопользователь...скость, так и автоматизациюна основе скриптов. Получается это, как иследовало ожидать, труднее, чем казалось сначала,но, по всей видимости, утрясется в конце концов. Ябы за такую платформу охотно переплатил, еслитолько будет работать надежно. Свое время дороже.</strong></font></p><p><font size="2"><strong>Однако значит ли все это, чтосоздатели юникса были умнее, что они правильноугадали будущие потребности и сделали лучшиеходы? Вот с этим я никак не могу согласиться.Извините, но если бы это было так, то мы все давнобы сидели за рабочими станциями RISC/UNIX класса.Очернять Microsoft, создавать образ врага -- занятиеутешительное, но бесполезное. Гейтс начинал, каки все, практически с нуля, а дальше -- что ж, бизнесесть бизнес, в нем играют тотально, в том числе ина грани позволенного законом и обычаем. Не былон никогда тотальным, прочно обезопасившим себямонополистом -- и сейчас не является, и, к словузаметить, хорошо понимает, что это невозможно.Наряду с младшими моделями виндов и офиснымиприложениями, где конкуренты отжаты сейчас оченьдалеко, хотя и не уничтожены совершенно, есть унего NT с BackOffice'ом, есть малтимидийный бизнес, естьсовсем новые (и очень дорогостоящие) начинания, ивсе это -- on the cutting edge, на переднем краеконкуренции. Он делает свое дело, а конкуренты (иученые с чиновниками) пусть делают свое. </strong></font></p><p><font size="2"><strong>С другой стороны, я при самомбольшом напряжении фантазии не могу согласитьсяс тем, что у Гейтса блестящие инженеры. Если они иесть, то воли им не дают, а, скорее всего, тутналицо некая роковая несовместимость,исследованием которой я собираюсь заняться водной из следующих колонок. </strong></font></p><p><font size="2"><strong>Дело в том, что создатели Windowsпрекрасно понимали, что творят. </strong></font></p><p><font size="2"><strong>Во-первых, эти системы намеренносделаны в предположении: один юзер, один писюк (...,один Colt, один голос). Если сисадмину неудобно,пусть поставит рядом еще нисюк. Вообще, пусть всепокупают писюки, и побольше, побольше! Что заглупости -- многопользовательский режим! Будь ихволя, они бы и многозадачности не допустили. Одназадача, один писюк, и так далее.</strong></font></p><p><font size="2"><strong>Во-вторых, NT намеренно сделана впредположении, что компьютер имеет доступ квысокоскоростной локальной сети -- а если нет, топусть его подключат</strong></font></p><p><font size="2"><strong>В-третьих, интерфейс должен бытьтолько графическим. Долой дешевые черные экраны,пусть процессор делает хоть что-то полезное.Впрочем, Apple в этом смысле забежала гораздодальше вперед.</strong></font></p><p><font size="2"><strong>В-четвертых, пользованиекомпьютерами, а затем и администрирование сетей,и программирование, все это надо отобрать уинтеллектуальной элиты и передать тем, комупроще заучить переходы по меню, чем понять общиепринципы устройства чего бы то ни было. Такихлюдей объективно больше и они послушнее. </strong></font></p><p><font size="2"><strong>Можно было бы привести ещенесколько допущений относительно тактики&quot;принуждения к прогрессу&quot;, но и без того ужепонятны плюсы и минусы этого подхода. Онобеспечивает баланс интересов хардверныхпартнеров (производителей и предустановщиков),торгово-распределительного бизнеса, владельцевкомпьютерных систем, большинства пользователейи многих других. С другой стороны, оннедвусмысленно направлен на подавление амбицийяйцеголовых умников как среди пользователей, таки по другую сторону прилавка, что вообще типичнодля поп-культуры. И, наконец, он <em>неизменнопроигрывает на фронтире</em>: там, где процессорыслабее, памяти меньше, сети медленнее, или гдекомпьютерные системы подвергаются особенноизощренным пыткам. &nbsp; Установка как раз такова,чтобы держаться подальше от границ, плыть строгов струе. </strong></font></p><p><font size="2"><strong>Отсюда -- брутальный характерэкспансии. На переднем крае прогрессе все времязаводятся какие-то вольные землепашцы, какие-токазаки-разбойники, а поток их топит, топит итопит. Тут хорошо подошла бы метафораповерхностного натяжения. Помните: при одномзнаке жидкость как бы прилипает и размазываетсяпо тверди, плавно повышая свой уровень, а придругом, как у Гейтса, нависает над сухимиучастками по линии раздела подобно дорожномукатку.</strong></font></p><p align="center"><font size="2"><strong>***</strong></font></p><p><font size="2"><strong>Понимая все это, я, вроде бы,научился видеть и необоснованность нашихпретензий, будто мы, компьютерные специалисты,можем что-то всерьез предугадать. Честное слово,если бы в истории ОС решения принималисьслучайным образом, результат оказался бы какминимум не хуже. Я не хочу касаться современногодизайна - скандалов тогда будет выше крыши - авозьму один очень&nbsp; старый, давно остывшийпример.</strong></font></p><p><font size="2"><strong>Принципиальной, родовой чертойюникса (впрочем, давно усвоенной другими ОС)всегда называют его способ порождения процессов.Они в этой системе образуют иерархию,возникающую путем &quot;деления&quot; с репликациейпамяти и наследованием контекста, причем поумолчанию каждый новый процесс получает три&quot;трубы&quot;: для ввода, для вывода, и длядиагностических сообщений. По способуразмножения процессы напоминают одноклеточныеорганизмы, но их устройство скорее похоже на&nbsp;&quot;прямоточную&quot; схему, свойственнуюмногоклеточным. Задумано так, что процесспринимает данные через входную трубу,переваривает их и выталкивает через выходную. Всистеме экономно размещается по многоэкземпляров одних и тех же программ, каждая изкоторых (как процесс) выполняет какую-топорученную ей частную работу. </strong></font></p><p><font size="2"><strong>Хорошо забытый факт -- как та жесамая идеология оформилась в недрах IBM. Перваянайденная мною ссылка на внутренний документдатируется 1974 годом (<em>HIPO - A design aid and documentation technique</em>.IBM Corp. Manual), а первая книга с описанием&nbsp; этойтехники вышла в 1976 году. Как известно, перваяредакция статьи Кернигана и Ритчи &quot;The UNIX Time-SharingSystem&quot; восходит к 1973 году, а опубликована онабыла в 1974 году. Идеи в те горячие времена носилисьв воздухе и подхватывались на лету. </strong></font></p><p><font size="2"><strong>HIPO означает Hierarchy of Input-Processing-Output. Нарусски это переводилось как &quot;иерархияпроцессов ввода, обработки и вывода&quot;. Помимопрочего, этот подход и основанные на немдокументы, так называемые хайпограммы, былиположены в основу IBM-овской индустриальнойтехнологии программирования IPT -- первойсистематической попыткой укротитьпрограммирующую вольницу и превратить ремесло впромышленность. </strong></font></p><p><font size="2"><strong>В сочетании с заветамиотцов-основателей (писать простые программы,которые делают что-то одно, но делают хорошо иобъединять их &quot;на лету&quot; для выполнениясложных заданий) становится ясно, что механизмпроцессов в юниксе это очень качественнаяреализация современных на тот момент идейкомпонентного программирования. </strong></font></p><p><font size="2"><strong>Прибавим к этому второй завет:развивать средства работы с текстами и текстовыйинтерфейс. ОС юникс должна была заговоритьчеловеческим языком, и она действительно оченьприблизилась к этой цели (если, конечно, иметь ввиду английский язык и не обращать внимания напрограммистские извращения). </strong></font></p><p><font size="2"><strong>Ирония в том, что оба эти ключевыеновшества совершенно не оправдали возлагавшихсяна них надежд, а по некоторым направлениям дажепривели к ощутимому отставанию юниксов посравнению с презренными конкурентами.</strong></font></p><p><font size="2"><strong>Метафора программы-процессора,запускаемой по потребности, выполняющейввод-обработку-вывод данных и &quot;умирающей&quot;,на самом деле была концептуальным наследиемархаического &nbsp; пакетного режима работывычислительной системы. Ее сменила метафорапрограммы-сервера, вскоре начавшейвзаимодействовать с другими программами гораздоболее интенсивно и эффективно.&nbsp; </strong></font></p><p><font size="2"><strong>Текстовый интерфейс тожепродержался недолго. Через пять-шесть лет все ужеинтересовались только графикой. Черно-зеленыеэкраны сейчас выглядят примерно как перфокарты. </strong></font></p><p><font size="2"><strong>Если посмотреть на процессэволюции компьютерных технологий&nbsp; &quot;с высотыптичьего полета&quot;, окажется, что в момент, когдасотрудники Bell Labs Томпсон и Ритчи писали своюстатью для CACM, на другом конце США в другомчастном исследовательском центре другиеисследователи уже вели проекты, перечеркивающиелучшую половину написанного их коллегами. И, всвою очередь, лучшая половина того, что былосовершено сотрудниками Xerox PARC к 1980 году остаетсяневостребованным по сей день. Спрашивается, ктоже выбирал?</strong></font></p><p><font size="2"><strong><em>№278, 12 января 1999</em></strong></font></p><p><font size="2"><strong>Объем -- 12 колонок. Автор оставляетза собой право на отгул. </strong></font></p><p><font size="2"><ahref="http://www.snarky.com/cgi-local/Ultimate.cgi?action=topics&amp;number=2&amp;start=here"target="_top"><strong>На форуме &quot;Четыре колонки&quot;открыта тема &quot;Три нуля&quot;.</strong></a></font></p><p><font size="2"><strong><em><a href="mailto:me@snarky.com">Напишите мне,если хотите получать &quot;Четыре колонки&quot;почтой. </a></em></strong></font></p></body></html>